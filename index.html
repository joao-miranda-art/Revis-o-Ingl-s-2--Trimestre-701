<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Revisão-AV2-Geografia-2º-Trimestre</title>
<style>
  body {
    margin: 0;
    background-color: #fff;
    font-family: "Georgia", serif;
    color: #222;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 40px 10px 60px;
    min-height: 100vh;
  }
  #app {
    width: 700px;
    max-width: 95vw;
    border: 1px solid #444;
    border-radius: 8px;
    padding: 30px 40px 40px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
    background-color: #fafafa;
  }
  h1 {
    text-align: center;
    font-size: 2.4rem;
    font-weight: normal;
    margin-bottom: 40px;
    letter-spacing: 2px;
  }
  button {
    display: block;
    margin: 30px auto 0;
    background-color: #222;
    color: #fff;
    font-weight: 600;
    border: none;
    padding: 12px 28px;
    font-size: 1.1rem;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }
  button:hover:not(:disabled) {
    background-color: #555;
  }
  button:disabled {
    background-color: #aaa;
    cursor: not-allowed;
  }

  .question {
    font-size: 1.3rem;
    font-weight: 600;
    margin-bottom: 25px;
    line-height: 1.3;
    white-space: pre-line;
  }
  .alternatives {
    margin-bottom: 25px;
    padding-left: 20px;
  }
  .alternatives label {
    display: block;
    margin-bottom: 15px;
    font-size: 1.1rem;
    cursor: pointer;
    user-select: none;
  }
  input[type="radio"] {
    margin-right: 10px;
    cursor: pointer;
  }
  #resposta {
    font-size: 1.3rem;
    font-weight: 700;
    min-height: 2rem;
    color: #222;
    text-align: center;
    margin-bottom: 20px;
    height: 28px;
  }
  #pontuacao {
    font-size: 1.8rem;
    font-weight: 700;
    text-align: center;
    margin-top: 40px;
  }
  #resumo-final {
    margin-top: 35px;
    border-top: 1px solid #888;
    padding-top: 30px;
    max-height: 60vh;
    overflow-y: auto;
  }
  .resumo-pergunta {
    margin-bottom: 30px;
  }
  .resumo-pergunta h3 {
    font-weight: 600;
    font-size: 1.2rem;
    margin-bottom: 8px;
  }
  .alternativa-resumo {
    margin-left: 20px;
    margin-bottom: 6px;
    font-size: 1.05rem;
  }
  .correta {
    font-weight: 700;
    color: #0b610b;
  }
  .errada {
    font-weight: 700;
    color: #a80000;
  }
  .explicacao {
    margin-left: 20px;
    font-style: italic;
    font-size: 0.95rem;
    color: #444;
  }
  footer {
    margin-top: 30px;
    font-size: 0.9rem;
    color: #666;
    font-style: italic;
  }
</style>
</head>
<body>
<div id="app">
  <div id="start-screen">
    <h1>Revisão-AV2-Geografia-2º-Trimestre</h1>
    <button id="start-btn">Iniciar Revisão</button>
  </div>

  <div id="quiz-screen" style="display:none;">
    <div class="question" id="question-text"></div>
    <form id="alternatives-form" class="alternatives"></form>
    <div id="resposta"></div>
    <button id="submit-btn" disabled>Responder</button>
  </div>

  <div id="result-screen" style="display:none;">
    <h1>Resultado da Revisão</h1>
    <div id="pontuacao"></div>
    <div id="resumo-final"></div>
    <button id="restart-btn">Refazer Revisão</button>
  </div>
</div>

<footer>
  © 2025 João Miranda. Todos os direitos reservados.
</footer>

<script>
  const perguntasOriginais = [
    {
      pergunta: "Change the verb to Simple Past (regular verb):\nI (play) soccer yesterday.",
      alternativas: [
        "play",
        "plays",
        "played",
        "playing"
      ],
      correta: 2,
      explicacao: "O verbo correto no Simple Past é 'played', que é o passado regular de 'play'."
    },
    {
      pergunta: "Change the verb to Simple Past (regular verb):\nThey (visit) the museum last Saturday.",
      alternativas: [
        "visits",
        "visited",
        "visit",
        "visiting"
      ],
      correta: 1,
      explicacao: "'Visited' é o passado regular de 'visit', usado para ações concluídas no passado."
    },
    {
      pergunta: "Change the verb to Simple Past (irregular verb):\nShe (go) to the park last Sunday.",
      alternativas: [
        "goed",
        "goes",
        "went",
        "going"
      ],
      correta: 2,
      explicacao: "'Went' é o passado irregular do verbo 'go'."
    },
    {
      pergunta: "Change the verb to Simple Past (irregular verb):\nWe (have) a picnic yesterday afternoon.",
      alternativas: [
        "haved",
        "have",
        "had",
        "having"
      ],
      correta: 2,
      explicacao: "'Had' é o passado irregular do verbo 'have'."
    },
    {
      pergunta: "Complete with There is or There are:\n___ a bottle on the table.",
      alternativas: [
        "There are",
        "There is",
        "There’s many",
        "There’re"
      ],
      correta: 1,
      explicacao: "'There is' é usado para indicar existência no singular, como 'a bottle'."
    },
    {
      pergunta: "Complete with There is or There are:\n___ some toys in the box.",
      alternativas: [
        "There is",
        "There are",
        "There’s",
        "There’s some"
      ],
      correta: 1,
      explicacao: "'There are' é usado para indicar existência no plural, como 'some toys'."
    },
    {
      pergunta: "Complete with much, many, a little or a few:\nThere are ___ apples in the basket.",
      alternativas: [
        "much",
        "many",
        "a little",
        "a few"
      ],
      correta: 1,
      explicacao: "'Many' é usado para contáveis no plural, como 'apples'."
    },
    {
      pergunta: "Choose the correct preposition:\nI always wake up ___ 7 a.m.",
      alternativas: [
        "in",
        "on",
        "at",
        "from"
      ],
      correta: 2,
      explicacao: "'At' é a preposição correta para horas específicas."
    },
    {
      pergunta: "Choose the correct preposition:\nMy birthday is ___ May.",
      alternativas: [
        "in",
        "on",
        "at",
        "to"
      ],
      correta: 0,
      explicacao: "'In' é usado para meses."
    },
    {
      pergunta: "Complete with the correct article:\nSusan is ___ intelligent girl.",
      alternativas: [
        "a",
        "an",
        "the",
        "no article"
      ],
      correta: 1,
      explicacao: "'An' é usado antes de palavras que começam com som de vogal, como 'intelligent'."
    }
  ];

  function shuffleArray(array) {
    for (let i = array.length -1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i+1));
      [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
  }

  let perguntasEmbaralhadas = [];
  let atual = 0;
  let pontos = 0;
  const respostasDadas = [];

  function prepararQuiz() {
    perguntasEmbaralhadas = shuffleArray(perguntasOriginais.map(p => {
      let alternativasComIndice = p.alternativas.map((alt, i) => ({texto: alt, indice: i}));
      alternativasComIndice = shuffleArray(alternativasComIndice);
      const novaCorreta = alternativasComIndice.findIndex(a => a.indice === p.correta);
      return {
        pergunta: p.pergunta,
        alternativas: alternativasComIndice.map(a => a.texto),
        correta: novaCorreta,
        explicacao: p.explicacao
      };
    }));
    atual = 0;
    pontos = 0;
    respostasDadas.length = 0;
  }

  const startScreen = document.getElementById("start-screen");
  const quizScreen = document.getElementById("quiz-screen");
  const resultScreen = document.getElementById("result-screen");
  const questionText = document.getElementById("question-text");
  const alternativesForm = document.getElementById("alternatives-form");
  const respostaDiv = document.getElementById("resposta");
  const submitBtn = document.getElementById("submit-btn");
  const pontuacaoDiv = document.getElementById("pontuacao");
  const resumoFinalDiv = document.getElementById("resumo-final");
  const startBtn = document.getElementById("start-btn");
  const restartBtn = document.getElementById("restart-btn");

  startBtn.onclick = () => {
    prepararQuiz();
    startScreen.style.display = "none";
    resultScreen.style.display = "none";
    quizScreen.style.display = "block";
    mostrarPergunta();
  };

  restartBtn.onclick = () => {
    prepararQuiz();
    resultScreen.style.display = "none";
    quizScreen.style.display = "block";
    mostrarPergunta();
  };

  function mostrarPergunta() {
    respostaDiv.textContent = "";
    submitBtn.disabled = true;
    const p = perguntasEmbaralhadas[atual];
    questionText.textContent = `(${atual + 1}/${perguntasEmbaralhadas.length}) ${p.pergunta}`;
    alternativesForm.innerHTML = "";

    p.alternativas.forEach((alt, i) => {
      const id = `alt${i}`;
      const label = document.createElement("label");
      label.setAttribute("for", id);
      label.className = "alternativa";

      const input = document.createElement("input");
      input.type = "radio";
      input.name = "alternativa";
      input.id = id;
      input.value = i;

      input.onclick = () => {
        submitBtn.disabled = false;
        respostaDiv.textContent = "";
      };

      label.appendChild(input);
      label.appendChild(document.createTextNode(alt));
      alternativesForm.appendChild(label);
    });
  }

  submitBtn.onclick = () => {
    const p = perguntasEmbaralhadas[atual];
    const selecionado = alternativesForm.alternativa.value;
    if (selecionado === undefined) return;
    const selecionadoNum = parseInt(selecionado, 10);
    const acertou = selecionadoNum === p.correta;
    if (acertou) pontos++;
    respostasDadas[atual] = selecionadoNum;

    atual++;
    if (atual >= perguntasEmbaralhadas.length) {
      mostrarResultado();
    } else {
      mostrarPergunta();
    }
  };

  function mostrarResultado() {
    quizScreen.style.display = "none";
    resultScreen.style.display = "block";

    const nota = ((pontos / perguntasEmbaralhadas.length) * 10).toFixed(2);
    pontuacaoDiv.textContent = `Sua nota: ${nota} / 10`;

    resumoFinalDiv.innerHTML = "";
    perguntasEmbaralhadas.forEach((p, i) => {
      const div = document.createElement("div");
      div.className = "resumo-pergunta";

      const h3 = document.createElement("h3");
      h3.textContent = `Q${i + 1}: ${p.pergunta}`;
      div.appendChild(h3);

      p.alternativas.forEach((alt, idx) => {
        const span = document.createElement("div");
        span.className = "alternativa-resumo";
        if (idx === p.correta) {
          span.classList.add("correta");
          span.textContent = `✔ ${alt}`;
        } else if (idx === respostasDadas[i]) {
          span.classList.add("errada");
          span.textContent = `✖ ${alt}`;
        } else {
          span.textContent = alt;
        }
        div.appendChild(span);
      });

      const exp = document.createElement("div");
      exp.className = "explicacao";
      exp.textContent = `Explicação: ${p.explicacao}`;
      div.appendChild(exp);

      resumoFinalDiv.appendChild(div);
    });
  }
</script>
</body>
</html>
